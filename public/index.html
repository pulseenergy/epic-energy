<!DOCTYPE html>
<html>
<head>
<title>Legends of Energy 3: Downtown</title>
<link rel="stylesheet" href="global.css">

<script src="lib/underscore-1.4.0.js"></script>
<script src="lib/knockout-2.1.0.js"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="lib/js/bootstrap-button.js"></script>
<script src="src/js/util.js"></script>

<script src="src/js/Occupant.js"></script>
<script src="src/js/Equipment.js"></script>
<script src="src/js/Game.js"></script>
<script src="src/js/ViewModel.js"></script>
<script>
	var game, viewModel;

	$(function () {
		game = new Game();
		viewModel = new ViewModel(game);
		ko.applyBindings(viewModel);
	});
</script>
</head>
<body>

<div class="game-container">
	<div data-bind="text: '$' + budget() + ' remaining'"></div>
	<div id="occupants" data-bind="foreach: occupants">
		<span class="occupant" data-bind="text: happiness, attr: { 'title': happinessLabel }, class: happinessLabel"></span>
	</div>
	<div data-bind="text: 'Date: ' + month() + ' 1'"></div>
	<div data-bind="text: 'Average Temperature: ' + weather().mean + '\u00b0C'"></div>
	<div data-bind="text: energy() + ' kWh consumed'"></div>
	<div id="equipment" data-bind="foreach: equipment">
		<div data-bind="attr: { class: cssClass }, text: name"></div>
		<ul class="upgrades" data-bind="foreach: upgrades">
			<li class="upgrade" data-bind="click: upgradeTo, text: name + ' ($' + (cost.money || 0) + ')'"></li>
		</ul>
	</div>
	<button class="btn" data-bind="click: advanceToNextMonth">Next</button>
</div>
</body>
</html>
